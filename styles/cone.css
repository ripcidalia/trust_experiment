/* ==========================================================================
   cone.css
   Purpose: Visualize the drone’s scanning “sensor cone” — a soft cyan beam
             with subtle gradient and grid overlay to evoke perception activity.
   Behavior:
   - JS dynamically sets position, size, and transform per scene.
   - Opacity and motion transitions are handled for smooth fades.
   - Uses `mix-blend-mode: screen` for a holographic look on dark backgrounds.
   ========================================================================== */

/* ===== 1) Cone container ===== */
.scan-cone {
  position: absolute;
  z-index: 3;                  /* Below .overlay-drone (4), above door elements (2) */
  pointer-events: none;        /* Decorative only */
  opacity: 0;                  /* JS fades in/out */
  transition: opacity 140ms ease;
  transform-origin: 50% 0%;    /* Apex anchored at top center */
  clip-path: polygon(50% 0%, 10% 100%, 90% 100%); /* Triangular cone shape */
  mix-blend-mode: screen;      /* Bright additive blend for HUD-like effect */
  will-change: transform, opacity; /* Optimize GPU compositing */
  /* Dimensions and positioning are set dynamically by JS */
}

/* ===== 2) Cone gradient fill ===== */
/* Soft cyan gradient with falloff — gives a volumetric look rather than a spotlight */
.scan-cone::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to bottom,
    rgba(90, 210, 255, 0.55) 0%,
    rgba(90, 210, 255, 0.28) 35%,
    rgba(90, 210, 255, 0.12) 70%,
    rgba(90, 210, 255, 0.00) 100%
  );
  filter: blur(0.2px); /* Minor blur softens banding */
}

/* ===== 3) Subtle grid overlay ===== */
/* Creates a faint sense of scanning/sampling within the cone */
.scan-cone .grid {
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      to right,
      rgba(150, 220, 255, 0.12) 0 1px,
      transparent 1px 10px
    ),
    repeating-linear-gradient(
      to bottom,
      rgba(150, 220, 255, 0.10) 0 1px,
      transparent 1px 10px
    );
  opacity: 0.35;
  clip-path: inherit; /* Maintain the same triangular shape */
}
