/* ==========================================================================
   shake.css
   Purpose: Defines the "camera shake" effect used to visually convey higher
            environmental risk levels during the experiment.
   Behavior:
   - Small randomized translations simulate vibration or instability.
   - Driven by CSS variables controlled dynamically from JS:
       --shake-amp:    shake amplitude (in px)
       --shake-period: duration of one full oscillation
   ========================================================================== */

/* ===== 1) Keyframes: Camera shake motion ====================================
   Randomized offsets over time create natural jittering behavior.
   -------------------------------------------------------------------------- */
@keyframes camShake {
  0%   { transform: translate3d(0, 0, 0); }
  10%  { transform: translate3d(calc(var(--shake-amp, 0px) * 0.8),  calc(var(--shake-amp, 0px) * -0.3), 0); }
  20%  { transform: translate3d(calc(var(--shake-amp, 0px) * -0.6), calc(var(--shake-amp, 0px) * 0.5), 0); }
  30%  { transform: translate3d(calc(var(--shake-amp, 0px) * 0.4),  calc(var(--shake-amp, 0px) * 0.2), 0); }
  40%  { transform: translate3d(calc(var(--shake-amp, 0px) * -0.4), calc(var(--shake-amp, 0px) * -0.4), 0); }
  50%  { transform: translate3d(calc(var(--shake-amp, 0px) * 0.3),  calc(var(--shake-amp, 0px) * 0.6), 0); }
  60%  { transform: translate3d(calc(var(--shake-amp, 0px) * -0.2), calc(var(--shake-amp, 0px) * -0.2), 0); }
  70%  { transform: translate3d(calc(var(--shake-amp, 0px) * 0.6),  calc(var(--shake-amp, 0px) * 0.1), 0); }
  80%  { transform: translate3d(calc(var(--shake-amp, 0px) * -0.5), calc(var(--shake-amp, 0px) * 0.5), 0); }
  90%  { transform: translate3d(calc(var(--shake-amp, 0px) * 0.2),  calc(var(--shake-amp, 0px) * -0.3), 0); }
  100% { transform: translate3d(0, 0, 0); }
}

/* ===== 2) Shake application =================================================
   Applied to the .scene-frame only, not the entire page.
   -------------------------------------------------------------------------- */
.scene-frame.risk-shake {
  animation: camShake var(--shake-period, 900ms) ease-in-out infinite;
  will-change: transform;
}
